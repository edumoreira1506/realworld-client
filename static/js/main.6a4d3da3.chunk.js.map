{"version":3,"sources":["config/constants.js","services/api.js","services/UserService.js","models/User.js","components/Link/index.js","components/Container/index.js","components/Header/index.js","templates/PublicTemplate/index.js","templates/PrivateTemplate/index.js","config/routes/PrivateRoute.js","helpers/template.js","config/routes/PublicRoute.js","components/Box/index.js","components/Input/index.js","components/Button/index.js","components/Form/index.js","helpers/alert.js","pages/Login/index.js","pages/TimeLine/index.js","config/routes/index.js","index.js"],"names":["require","config","baseUrl","routes","TIME_LINE","LOGIN","REGISTER","api","axios","create","baseURL","process","headers","login","email","password","a","body","post","data","isAuthenticated","Boolean","getToken","window","localStorage","getItem","authenticate","user","token","setItem","location","reload","callback","UserService","apiResponse","ok","onAuthenticated","onError","message","Link","children","to","target","href","className","Container","Header","links","map","link","key","content","headerLinks","PublicTemplate","PrivateTemplate","PrivateRoute","Component","component","rest","authenticated","render","props","element","PublicRoute","Box","Input","name","type","onChange","required","placeholder","value","data-testid","Button","onClick","Form","inputs","buttonText","onSubmit","input","error","errorMessage","Swal","fire","title","text","icon","Login","useState","setEmail","setPassword","e","preventDefault","User","Alert","TimeLine","Routes","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6a4d3da3.chunk.js","sourcesContent":["require('dotenv').config();\n\nconst baseUrl = process.env.NODE_ENV === 'production'\n  ? 'https://edumoreira1506.github.io/realworld-client/#'\n  : 'http://localhost:3000/realworld-client/#';\n\nexport const apiUrl = process.env.REACT_APP_URL_API || 'https://realworld-api-edumoreira1506.herokuapp.com/';\n\nexport const routes = {\n  TIME_LINE: `${baseUrl}/time_line`,\n  LOGIN: `${baseUrl}/login`,\n  REGISTER: `${baseUrl}/register`\n}\n","import { apiUrl } from '../config/constants';\nimport axios from 'axios';\n\nconst api = axios.create({\n  baseURL: apiUrl,\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS'\n  }\n});\n\nexport default api;\n","import api from './api';\n\nexport const login = async (email, password) => {\n  const body = { email, password };\n\n  const { data } = await api.post('auth', body);\n\n  return data;\n}\n","import * as UserService from '../services/UserService';\n\nexport const isAuthenticated = () => Boolean(getToken());\n\nconst getToken = () => window.localStorage.getItem('token');\n\nconst setToken = token => window.localStorage.setItem('token', token);\n\nexport const authenticate = user => {\n  setToken(user.token);\n\n  window.location.reload();\n}\n\nexport const login = async (email, password, callback) => {\n  const apiResponse = await UserService.login(email, password);\n\n  if (apiResponse.ok) {\n    return callback.onAuthenticated(apiResponse.user)\n  }\n\n  return callback.onError(apiResponse.message)\n}\n","import React from 'react';\n\nimport './index.scss';\n\nconst Link = ({ children, to, target = '_blank' }) => (\n  <a href={to} target={target} className=\"Link\">\n    { children }\n  </a>\n);\n\nexport default Link;\n","import React from 'react';\n\nimport './index.scss';\n\nconst Container = ({ children }) => (\n  <div className=\"Container\">\n    { children }\n  </div>\n);\n\nexport default Container;\n","import React from 'react';\nimport Link from '../Link';\nimport Container from '../Container';\n\nimport './index.scss';\n\nconst Header = ({ links }) => (\n  <header className=\"Header\">\n    <Container>\n      <div className=\"Header__areas\">\n        <div className=\"Header__logo\">\n          <h1 className=\"Header__title\">RealWorld</h1>\n        </div>\n        <nav className=\"Header__links\">\n          {\n            links.map(link =>\n              <Link to={link.to} key={link.to} target=\"_self\">\n                { link.content }\n              </Link>\n            )\n          }\n        </nav>\n      </div>\n    </Container>\n  </header>\n);\n\nexport default Header;\n","import React from 'react';\nimport Header from '../../components/Header';\nimport { routes } from '../../config/constants';\n\nimport './index.scss';\n\nconst headerLinks = [\n  {\n    content: 'Register',\n    to: routes.REGISTER\n  }\n];\n\nconst PublicTemplate = ({ children }) => (\n  <div className=\"PublicTemplate\">\n    <section className=\"PublicTemplate__header\">\n      <Header links={headerLinks} />\n    </section>\n    { children }\n  </div>\n);\n\nexport default PublicTemplate;\n","import React from 'react';\n\nconst PrivateTemplate = ({ children }) => (\n  <div>\n    <h1>Private Template!</h1>\n    { children }\n  </div>\n);\n\nexport default PrivateTemplate;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { isAuthenticated } from '../../models/User';\nimport { routes } from '../constants';\nimport { withPrivateTemplate } from '../../helpers/template';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const authenticated = isAuthenticated();\n\n  return (\n    <Route \n      { ...rest }\n      render={props => (\n        authenticated ? (\n          withPrivateTemplate(<Component { ...props} />)\n        ) : (\n          window.location = routes.LOGIN\n        )\n      )} \n    />\n  )\n}\n\nexport default PrivateRoute;\n","import React from 'react';\nimport PublicTemplate from '../templates/PublicTemplate';\nimport PrivateTemplate from '../templates/PrivateTemplate';\n\nexport const withPublicTemplate = element => (\n  <PublicTemplate>\n    { element }\n  </PublicTemplate>\n);\n\nexport const withPrivateTemplate = element => (\n  <PrivateTemplate>\n    { element }\n  </PrivateTemplate>\n);\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport { isAuthenticated } from '../../models/User';\nimport { routes } from '../constants';\nimport { withPublicTemplate } from '../../helpers/template';\n\nconst PublicRoute = ({ component: Component, ...rest }) => {\n  const authenticated = isAuthenticated();\n\n  return (\n    <Route \n      { ...rest } \n      render={props => (\n        authenticated ? (\n          window.location = routes.TIME_LINE\n        ) : (\n          withPublicTemplate(<Component { ...props} />)\n        )\n      )} \n    />\n  )\n}\n\nexport default PublicRoute;\n","import React from 'react';\n\nimport './index.scss';\n\nconst Box = ({ children }) => (\n  <div className=\"Box\">\n    { children }\n  </div>\n);\n\nexport default Box;\n","import React from 'react';\n\nimport './index.scss';\n\nconst Input = ({\n  name,\n  type,\n  onChange,\n  required,\n  placeholder,\n  value\n}) => (\n  <input\n    name={name}\n    onChange={onChange}\n    type={type}\n    required={required}\n    placeholder={placeholder}\n    value={value}\n    className=\"Input\"\n    data-testid=\"input\"\n  />\n);\n\nexport default Input;\n","import React from 'react';\n\nimport './index.scss';\n\nconst Button = ({\n  type,\n  onClick,\n  children\n}) => (\n  <button\n    type={type}\n    data-testid=\"button\"\n    onClick={onClick}\n    className=\"Button\"\n  >\n    { children }\n  </button>\n);\n\nexport default Button;\n","import React from 'react';\nimport Input from '../Input';\nimport Button from '../Button';\n\nimport './index.scss';\n\nconst Form = ({ inputs, buttonText, onSubmit }) => (\n  <form className=\"Form\" onSubmit={onSubmit} data-testid=\"form\">\n    {\n      inputs.map(input =>\n        <div className=\"Form__field\" key={input.name}>\n          <Input\n            value={input.value}\n            placeholder={input.placeholder}\n            type={input.type}\n            onChange={input.onChange}\n            required={input.required}\n            name={input.name}\n          />\n        </div>\n      )\n    }\n    <div className=\"Form__submit-button\">\n      <Button type=\"submit\" onClick={onSubmit}>\n        { buttonText }\n      </Button>\n    </div>\n  </form>\n);\n\nexport default Form;\n","import Swal from 'sweetalert2';\n\nexport const error = errorMessage => Swal.fire({\n  title: 'Error!',\n  text: errorMessage,\n  icon: 'error',\n});\n\nexport const confirm = (confirmMessage, callback) => Swal.fire({\n  title: 'Are you sure?',\n  text: confirmMessage,\n  icon: 'warning',\n  showCancelButton: true,\n  confirmButtonColor: '#3085d6',\n  cancelButtonColor: '#d33',\n}).then(result => {\n  if (result.value) {\n    return callback.onConfirmed();\n  };\n});\n\nexport const success = successMessage => Swal.fire({\n  title: 'Nice!',\n  text: successMessage,\n  icon: 'success'\n});\n","import React, { useState } from 'react';\nimport Box from '../../components/Box';\nimport Link from '../../components/Link';\nimport Form from '../../components/Form';\nimport { routes } from '../../config/constants';\n\nimport * as User from '../../models/User';\nimport * as Alert from '../../helpers/alert';\n\nimport './index.scss'\n\nconst Login = () => {\n  const [ email, setEmail ] = useState('');\n  const [ password, setPassword ] = useState('');\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    User.login(email, password, {\n      onAuthenticated: User.authenticate,\n      onError: Alert.error\n    });\n  }\n\n  const inputs = [\n    {\n      name: 'email',\n      type: 'email',\n      onChange: e => setEmail(e.target.value),\n      required: true,\n      placeholder: 'E-mail',\n      value: email\n    },\n    {\n      name: 'password',\n      type: 'password',\n      onChange: e => setPassword(e.target.value),\n      required: true,\n      placeholder: 'Password',\n      value: password\n    },\n  ]\n\n  return (\n    <Box>\n      <div className=\"Login\">\n        <h2 className=\"Login__title\">\n          Login\n        </h2>\n        <h3 className=\"Login__register-link\">\n          <Link to={routes.REGISTER} target=\"_self\">\n            Need an account?\n          </Link>\n        </h3>\n        <div className=\"Login__form\">\n          <Form\n            onSubmit={onSubmit}\n            buttonText=\"Sign in\"\n            inputs={inputs}\n          />\n        </div>\n      </div>\n    </Box>\n  );\n}\n\nexport default Login;\n","import React from 'react';\n\nconst TimeLine = () => (\n  <h1>\n    Time line!\n  </h1>\n);\n\nexport default TimeLine;\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport PrivateRoute from './PrivateRoute';\nimport PublicRoute from './PublicRoute';\n\nimport Login from '../../pages/Login';\nimport TimeLine from '../../pages/TimeLine';\n\nconst Routes = () => (\n  <HashRouter>\n    <PrivateRoute exact path='/time_line' component={TimeLine} />\n    \n    <PublicRoute exact path='/login' component={Login} />\n    <PublicRoute exact path='/' component={Login} />\n  </HashRouter>\n);\n\nexport default Routes\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Routes from './config/routes';\n\nimport './index.scss';\n\nReactDOM.render(<Routes />, document.getElementById('root'));\n"],"sourceRoot":""}