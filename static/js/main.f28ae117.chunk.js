(this["webpackJsonprealworld-client"]=this["webpackJsonprealworld-client"]||[]).push([[0],{41:function(e,t,n){e.exports=n(94)},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),o=n.n(c),u=n(12),i=n(11),s=n(15),l=n(1),m=n.n(l),d=n(4);n(47).config();var p="https://edumoreira1506.github.io/realworld-client/#",f={TIME_LINE:"".concat(p,"/time_line"),LOGIN:"".concat(p,"/login"),REGISTER:"".concat(p,"/register"),EDIT:"".concat(p,"/edit_profile"),EDIT_PASSWORD:"".concat(p,"/edit_password"),LOGOUT:"".concat(p,"/logout"),MY_PROFILE:"".concat(p,"/user/").concat(window.localStorage.getItem("username"))},E=[{content:"Edit",to:f.EDIT},{content:"Profile",to:f.MY_PROFILE},{content:"Logout",to:f.LOGOUT}],v=[{content:"Register",to:f.REGISTER},{content:"Login",to:f.LOGIN}],h=n(33),g=n.n(h).a.create({baseURL:"https://realworld-api-edumoreira1506.herokuapp.com/",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}),b=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:t,password:n},e.next=3,g.post("auth",a);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("user",t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("user/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.next=3,g.post("user/".concat(t,"/follow"),{},a);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(m.a.mark((function e(t,n,a){var r,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:a}},e.next=3,g.patch("user/".concat(n),t,r);case 3:return c=e.sent,o=c.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("user/".concat(t,"/posts"));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=n(16),k=n(34),y=n.n(k),P=function(e){return y()(e).calendar()},S=function(){return Boolean(C())},C=function(){return window.localStorage.getItem("token")},T=function(){return window.localStorage.getItem("id")},I=function(e){var t,n,a;t=e.token,window.localStorage.setItem("token",t),n=e._id,window.localStorage.setItem("id",n),a=e.username,window.localStorage.setItem("username",a),window.location.reload()},A=function(){var e=Object(d.a)(m.a.mark((function e(t,n,a){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,n);case 2:if(!(r=e.sent).ok){e.next=5;break}return e.abrupt("return",a.onAuthenticated(r.user));case 5:return e.abrupt("return",a.onError(r.message));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:if(!(a=e.sent).ok){e.next=5;break}return e.abrupt("return",n.onRegistered());case 5:return e.abrupt("return",n.onError(a.message));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:if(!(a=e.sent).ok){e.next=5;break}return e.abrupt("return",n.onFound(a.user));case 5:return e.abrupt("return",n.onError(a.message));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:if(!(a=e.sent).ok){e.next=6;break}return c=a.posts,r=c.map((function(e){return Object(j.a)({},e,{createdAt:P(e.createdAt),updatedAt:P(e.updatedAt)})})),e.abrupt("return",n.onFound(r));case 6:return e.abrupt("return",n.onError(a.message));case 7:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C()||"",e.next=3,O(t,a);case 3:if(!(r=e.sent).ok){e.next=6;break}return e.abrupt("return",n.onFollowed(r.message));case 6:return e.abrupt("return",n.onError(r.message));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C(),r=T(),e.next=4,x(t,r,a);case 4:if(!(c=e.sent).ok){e.next=7;break}return e.abrupt("return",n.onEdited());case 7:return e.abrupt("return",n.onError(c.message));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=(n(67),function(e){var t=e.children,n=e.to,a=e.target,c=void 0===a?"_blank":a;return r.a.createElement("a",{href:n,target:c,className:"Link"},t)}),G=(n(68),function(e){var t=e.children;return r.a.createElement("div",{className:"Container"},t)}),B=(n(69),S()?E:v),H=function(){return r.a.createElement("header",{className:"Header"},r.a.createElement(G,null,r.a.createElement("div",{className:"Header__areas"},r.a.createElement(D,{to:p,target:"_self"},r.a.createElement("div",{className:"Header__logo"},r.a.createElement("h1",{className:"Header__title"},"RealWorld"))),r.a.createElement("nav",{className:"Header__links"},B.map((function(e){return r.a.createElement(D,{to:e.to,key:e.to,target:"_self"},e.content)}))))))},M=(n(70),function(e){var t=e.children;return r.a.createElement("div",{className:"PublicTemplate"},r.a.createElement("section",{className:"PublicTemplate__header"},r.a.createElement(H,null)),t)}),z=(n(71),function(e){var t=e.children;return r.a.createElement("div",{className:"PrivateTemplate"},r.a.createElement("section",{className:"PrivateTemplate__header"},r.a.createElement(H,null)),t)}),W=function(e){var t=e.component,n=Object(s.a)(e,["component"]),a=S();return r.a.createElement(i.a,Object.assign({},n,{render:function(e){return a?(n=r.a.createElement(t,e),r.a.createElement(z,null,n)):window.location=f.LOGIN;var n}}))},J=function(e){var t=e.component,n=Object(s.a)(e,["component"]),a=S();return r.a.createElement(i.a,Object.assign({},n,{render:function(e){return a?window.location=f.TIME_LINE:(n=r.a.createElement(t,e),r.a.createElement(M,null,n));var n}}))},Y=n(3),K=(n(76),function(e){var t=e.children;return r.a.createElement("div",{className:"Box"},t)}),Q=(n(77),function(e){var t=e.name,n=e.type,a=e.onChange,c=e.required,o=e.placeholder,u=e.value;return r.a.createElement("input",{name:t,onChange:a,type:n,required:c,placeholder:o,value:u,className:"Input","data-testid":"input"})}),V=(n(78),function(e){var t=e.name,n=e.onChange,a=e.required,c=e.placeholder,o=e.value;return r.a.createElement("textarea",{name:t,onChange:n,required:a,placeholder:c,value:o,className:"TextArea"})}),X=(n(79),function(e){var t=e.type,n=void 0===t?"button":t,a=e.onClick,c=e.children;return r.a.createElement("button",{type:n,"data-testid":"button",onClick:a,className:"Button"},c)}),Z=(n(80),function(e){var t=e.inputs,n=void 0===t?[]:t,a=e.buttonText,c=e.onSubmit,o=e.textAreas,u=void 0===o?[]:o;return r.a.createElement("form",{className:"Form",onSubmit:c,"data-testid":"form"},n.map((function(e){return r.a.createElement("div",{className:"Form__field",key:e.name},r.a.createElement(Q,{value:e.value,placeholder:e.placeholder,type:e.type,onChange:e.onChange,required:e.required,name:e.name}))})),u.map((function(e){return r.a.createElement("div",{className:"Form__field",key:e.name},r.a.createElement(V,{value:e.value,placeholder:e.placeholder,onChange:e.onChange,required:e.required,name:e.name}))})),r.a.createElement("div",{className:"Form__submit-button"},r.a.createElement(X,{type:"submit",onClick:c},a)))}),$=n(17),ee=n.n($),te=function(e){return ee.a.fire({title:"Error!",text:e,icon:"error"})},ne=function(e){return ee.a.fire({title:"Nice!",text:e,icon:"success"})},ae=(n(81),function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(Y.a)(o,2),i=u[0],s=u[1],l=[{name:"email",type:"email",onChange:function(e){return c(e.target.value)},required:!0,placeholder:"E-mail",value:n},{name:"password",type:"password",onChange:function(e){return s(e.target.value)},required:!0,placeholder:"Password",value:i}];return r.a.createElement(K,null,r.a.createElement("div",{className:"Login"},r.a.createElement("h2",{className:"Login__title"},"Login"),r.a.createElement("h3",{className:"Login__register-link"},r.a.createElement(D,{to:f.REGISTER,target:"_self"},"Need an account?")),r.a.createElement("div",{className:"Login__form"},r.a.createElement(Z,{onSubmit:function(e){e.preventDefault(),A(n,i,{onAuthenticated:I,onError:te})},buttonText:"Sign in",inputs:l}))))}),re=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.next=3,g.post("post",t,a);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.next=3,g.post("post/".concat(t,"/favorite"),{},a);case 3:return r=e.sent,c=r.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C(),e.next=3,re(t,a);case 3:if(!(r=e.sent).ok){e.next=6;break}return e.abrupt("return",n.onRegistered());case 6:return e.abrupt("return",n.onError(r.message));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(d.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C(),e.next=3,ce(t,a);case 3:if(!(r=e.sent).ok){e.next=6;break}return e.abrupt("return",n.onFavorited());case 6:return e.abrupt("return",n.onError(r.message));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=(n(82),function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(Y.a)(o,2),i=u[0],s=u[1],l=[{onChange:function(e){return c(e.target.value)},required:!0,placeholder:"Type what you want...",value:n}],m=[{type:"text",onChange:function(e){return s(e.target.value)},required:!0,placeholder:"Title",value:i}];return r.a.createElement("section",{className:"TimeLine"},r.a.createElement(G,null,r.a.createElement("div",{className:"TimeLine__post-area"},r.a.createElement(Z,{onSubmit:function(e){e.preventDefault(),oe({content:n,title:i},{onRegistered:function(){c(""),s(""),ne("Posted")},onError:te})},buttonText:"Post!",textAreas:l,inputs:m}))))}),se=(n(83),function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(Y.a)(o,2),i=u[0],s=u[1],l=Object(a.useState)(""),m=Object(Y.a)(l,2),d=m[0],p=m[1],f=Object(a.useState)(""),E=Object(Y.a)(f,2),v=E[0],h=E[1],g=Object(a.useState)(""),b=Object(Y.a)(g,2),_=b[0],w=b[1],O=[{type:"email",onChange:function(e){return s(e.target.value)},required:!0,placeholder:"E-mail",value:i},{type:"password",onChange:function(e){return p(e.target.value)},required:!0,placeholder:"Password",value:d},{type:"password",onChange:function(e){return h(e.target.value)},required:!0,placeholder:"Confirm Password",value:v},{type:"text",onChange:function(e){return c(e.target.value)},required:!0,placeholder:"Username",value:n},{type:"text",onChange:function(e){return w(e.target.value)},required:!1,placeholder:"Url image",value:_}];return r.a.createElement(K,null,r.a.createElement("div",{className:"Register"},r.a.createElement("h2",{className:"Register__title"},"Register"),r.a.createElement("div",{className:"Register__form"},r.a.createElement(Z,{onSubmit:function(e){e.preventDefault(),q({username:n,email:i,password:d,confirmPassword:v,urlImage:_},{onError:te,onRegistered:function(){c(""),s(""),p(""),h(""),w(""),ne("Registered!")}})},buttonText:"Register",inputs:O}))))}),le=(n(84),function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(Y.a)(o,2),i=u[0],s=u[1],l=Object(a.useState)(""),m=Object(Y.a)(l,2),d=m[0],p=m[1],E=Object(a.useState)(""),v=Object(Y.a)(E,2),h=v[0],g=v[1];Object(a.useEffect)((function(){var e=T();F(e,{onError:te,onFound:function(e){c(e.username),s(e.email),p(e.image),g(e.bio)}})}),[]);var b=[{type:"email",onChange:function(e){return s(e.target.value)},required:!0,placeholder:"E-mail",value:i},{type:"text",onChange:function(e){return c(e.target.value)},required:!0,placeholder:"Username",value:n},{type:"text",onChange:function(e){return p(e.target.value)},required:!1,placeholder:"Url image",value:d}],_=[{onChange:function(e){return g(e.target.value)},required:!0,placeholder:"Bio",value:h}];return r.a.createElement(K,null,r.a.createElement("div",{className:"EditProfile"},r.a.createElement("h2",{className:"EditProfile__title"},"Edit Profile"),r.a.createElement("h3",{className:"EditProfile__edit-password"},r.a.createElement(D,{to:f.EDIT_PASSWORD,target:"_self"},"Edit password")),r.a.createElement("div",{className:"EditProfile__areas"},r.a.createElement(Z,{onSubmit:function(e){e.preventDefault(),U({username:n,email:i,image:d,bio:h},{onError:te,onEdited:function(){return ne("Edited!")}})},buttonText:"EditP rofile",inputs:b,textAreas:_}),r.a.createElement("figure",{className:"EditProfile__image-container"},r.a.createElement("img",{src:d,className:"EditProfile__image",alt:n})))))}),me=(n(85),function(){var e=Object(a.useState)(""),t=Object(Y.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(Y.a)(o,2),i=u[0],s=u[1],l=[{type:"password",onChange:function(e){return c(e.target.value)},required:!0,placeholder:"Password",value:n},{type:"password",onChange:function(e){return s(e.target.value)},required:!0,placeholder:"Confirm password",value:i}];return r.a.createElement(K,null,r.a.createElement("div",{className:"EditPassword"},r.a.createElement("h2",{className:"EditPassword__title"},"Password"),r.a.createElement("div",{className:"EditPassword__form"},r.a.createElement(Z,{onSubmit:function(e){e.preventDefault(),U({password:n,confirmPassword:i},{onError:te,onEdited:function(){c(""),s(""),ne("Edited!")}})},buttonText:"Edit",inputs:l}))))}),de=function(){return Object(a.useEffect)((function(){window.localStorage.clear(),window.location.reload()})),r.a.createElement("h1",null,"Logout")},pe=(n(86),function(e){var t=e.children;return r.a.createElement("section",{className:"Banner"},t)}),fe=n(37),Ee=n(39),ve=(n(89),function(e){var t=e.icon;return r.a.createElement(Ee.a,{icon:t,className:"Icon"})}),he=n(40),ge=function(e){var t=e.onClick,n=e.favoritesAmount;return r.a.createElement(X,{onClick:t},r.a.createElement(ve,{icon:he.a}),n)},be=(n(90),function(e){var t=e.title,n=e.createdAt,a=e.content,c=e.favoritesAmount,o=e.userImage,u=e.onFavorite;return r.a.createElement("article",{className:"Post"},r.a.createElement("div",{className:"Post__header"},r.a.createElement("figure",{className:"Post__image-container"},r.a.createElement("img",{src:o,alt:t,className:"Post__image"})),r.a.createElement("div",{className:"Post__title-container"},r.a.createElement("h3",{className:"Post__title"},t),r.a.createElement("h4",{className:"Post__created-at"},n))),r.a.createElement("div",{className:"Post__content"},r.a.createElement(fe.a,null,a)),r.a.createElement("div",{className:"Post__favorites"},r.a.createElement(ge,{onClick:u,favoritesAmount:c})))}),_e=(n(91),function(e){var t=e.posts,n=e.onFavorite;return r.a.createElement("div",{className:"Posts"},t.map((function(e){return r.a.createElement(be,{key:e._id,title:e.title,content:e.content,favoritesAmount:e.favorites.length,createdAt:e.createdAt,userImage:e.userImage,onFavorite:function(){return n(e._id)}})})))}),we=(n(92),function(){var e=Object(a.useState)({}),t=Object(Y.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),u=Object(Y.a)(o,2),s=u[0],l=u[1],m=Object(i.e)().username;Object(a.useEffect)((function(){F(m,{onError:te,onFound:c}),R(m,{onError:te,onFound:function(e){var t=e.map((function(e){return function(e,t){return Object(j.a)({},e,{userImage:t})}(e,n.image)}));l(t)}})}),[m,n.image]);return r.a.createElement("div",{className:"User"},r.a.createElement("section",{className:"User__header"},r.a.createElement(H,null)),r.a.createElement(pe,null,r.a.createElement(G,null,r.a.createElement("div",{className:"User__banner"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"User__left-area"},r.a.createElement("figure",{className:"User__image-container"},r.a.createElement("img",{className:"User__image",src:n.image,alt:n.username})),r.a.createElement("h2",{className:"User__name"},n.username))),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"User__bio"},n.bio||"Nothing here...")),r.a.createElement("span",{className:"User__follow-button"},r.a.createElement(X,{onClick:function(){L(n.id,{onFollowed:ne,onError:te})},type:"button"},"Follow +"))),r.a.createElement("div",{className:"User__posts"},r.a.createElement(_e,{posts:s,onFavorite:function(e){ue(e,{onError:te,onFavorited:function(){return ne("Favorited!")}})}})))))}),Oe=function(){return r.a.createElement(u.a,null,r.a.createElement(W,{exact:!0,path:"/time_line",component:ie}),r.a.createElement(W,{exact:!0,path:"/edit_profile",component:le}),r.a.createElement(W,{exact:!0,path:"/edit_password",component:me}),r.a.createElement(W,{exact:!0,path:"/logout",component:de}),r.a.createElement(J,{exact:!0,path:"/login",component:ae}),r.a.createElement(J,{exact:!0,path:"/",component:ae}),r.a.createElement(J,{exact:!0,path:"/register",component:se}),r.a.createElement(i.a,{exact:!0,path:"/user/:username",component:we}))};n(93);o.a.render(r.a.createElement(Oe,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.f28ae117.chunk.js.map